<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ARTS: m_batch.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ARTS
   &#160;<span id="projectnumber">2.4.0(git:4fb77825)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('m__batch_8cc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">m_batch.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> functions for doing batch calculations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
<code>#include &quot;<a class="el" href="arts_8h_source.html">arts.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="arts__omp_8h_source.html">arts_omp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auto__md_8h_source.html">auto_md.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="math__funcs_8h_source.html">math_funcs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="physics__funcs_8h_source.html">physics_funcs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rte_8h_source.html">rte.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xml__io_8h_source.html">xml_io.h</a>&quot;</code><br />
</div>
<p><a href="m__batch_8cc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9407eb3928def068954f25d3249ff1c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#a9407eb3928def068954f25d3249ff1c4">ForLoop</a> (<a class="el" href="classWorkspace.html">Workspace</a> &amp;ws, const <a class="el" href="classAgenda.html">Agenda</a> &amp;forloop_agenda, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;start, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;stop, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;step, const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;verbosity)</td></tr>
<tr class="memdesc:a9407eb3928def068954f25d3249ff1c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORKSPACE METHOD: ForLoop.  <a href="m__batch_8cc.html#a9407eb3928def068954f25d3249ff1c4">More...</a><br /></td></tr>
<tr class="separator:a9407eb3928def068954f25d3249ff1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17b67af2daddae5e169021b462f9be0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#ad17b67af2daddae5e169021b462f9be0">ybatchCalc</a> (<a class="el" href="classWorkspace.html">Workspace</a> &amp;ws, <a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;ybatch, <a class="el" href="array_8h.html#af3bf202f3dc8d9ac77050666489125e8">ArrayOfArrayOfVector</a> &amp;ybatch_aux, <a class="el" href="array_8h.html#a4bbdfc095689c41c0f78c6397202e75e">ArrayOfMatrix</a> &amp;ybatch_jacobians, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;ybatch_start, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;ybatch_n, const <a class="el" href="classAgenda.html">Agenda</a> &amp;ybatch_calc_agenda, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;robust, const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;verbosity)</td></tr>
<tr class="memdesc:ad17b67af2daddae5e169021b462f9be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORKSPACE METHOD: ybatchCalc.  <a href="m__batch_8cc.html#ad17b67af2daddae5e169021b462f9be0">More...</a><br /></td></tr>
<tr class="separator:ad17b67af2daddae5e169021b462f9be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1dd94c4386fd5b9ee8280895951d3a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#ad1dd94c4386fd5b9ee8280895951d3a6">ybatchMetProfiles</a> (<a class="el" href="classWorkspace.html">Workspace</a> &amp;ws, <a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;ybatch, const <a class="el" href="abs__species__tags_8h.html#a9acace966aca851b6275436e0c984317">ArrayOfArrayOfSpeciesTag</a> &amp;abs_species, const <a class="el" href="classAgenda.html">Agenda</a> &amp;met_profile_calc_agenda, const <a class="el" href="classVector.html">Vector</a> &amp;f_grid, const <a class="el" href="classMatrix.html">Matrix</a> &amp;met_amsu_data, const <a class="el" href="classMatrix.html">Matrix</a> &amp;sensor_pos, const <a class="el" href="classVector.html">Vector</a> &amp;refellipsoid, const <a class="el" href="classVector.html">Vector</a> &amp;lat_grid, const <a class="el" href="classVector.html">Vector</a> &amp;lon_grid, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;atmosphere_dim, const <a class="el" href="optproperties_8h.html#a6e37832809e67ccd019aa94dec37d0ae">ArrayOfArrayOfSingleScatteringData</a> &amp;scat_data, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;nelem_p_grid, const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;met_profile_path, const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;met_profile_pnd_path, const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;verbosity)</td></tr>
<tr class="memdesc:ad1dd94c4386fd5b9ee8280895951d3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORKSPACE METHOD: ybatchMetProfiles.  <a href="m__batch_8cc.html#ad1dd94c4386fd5b9ee8280895951d3a6">More...</a><br /></td></tr>
<tr class="separator:ad1dd94c4386fd5b9ee8280895951d3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fd4bcdb9c8044dbb56ed9fdefd798a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#aa5fd4bcdb9c8044dbb56ed9fdefd798a">ybatchMetProfilesClear</a> (<a class="el" href="classWorkspace.html">Workspace</a> &amp;ws, <a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;ybatch, const <a class="el" href="abs__species__tags_8h.html#a9acace966aca851b6275436e0c984317">ArrayOfArrayOfSpeciesTag</a> &amp;abs_species, const <a class="el" href="classAgenda.html">Agenda</a> &amp;met_profile_calc_agenda, const <a class="el" href="classVector.html">Vector</a> &amp;f_grid, const <a class="el" href="classMatrix.html">Matrix</a> &amp;met_amsu_data, const <a class="el" href="classMatrix.html">Matrix</a> &amp;sensor_pos, const <a class="el" href="classVector.html">Vector</a> &amp;refellipsoid, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;nelem_p_grid, const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;met_profile_path, const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;verbosity)</td></tr>
<tr class="memdesc:aa5fd4bcdb9c8044dbb56ed9fdefd798a"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORKSPACE METHOD: ybatchMetProfilesClear.  <a href="m__batch_8cc.html#aa5fd4bcdb9c8044dbb56ed9fdefd798a">More...</a><br /></td></tr>
<tr class="separator:aa5fd4bcdb9c8044dbb56ed9fdefd798a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa349aaf003b3b3bf8ffbd971b0827e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#afa349aaf003b3b3bf8ffbd971b0827e5">DOBatchCalc</a> (<a class="el" href="classWorkspace.html">Workspace</a> &amp;ws, <a class="el" href="array_8h.html#a36e34790aad9582c709e3db3980cc32d">ArrayOfTensor7</a> &amp;dobatch_cloudbox_field, <a class="el" href="array_8h.html#ae1b89c868cbd949de1d369b5baf1eaec">ArrayOfTensor5</a> &amp;dobatch_radiance_field, <a class="el" href="array_8h.html#ac48f73312253e57be4cef9d0f6213b20">ArrayOfTensor4</a> &amp;dobatch_irradiance_field, <a class="el" href="array_8h.html#ae1b89c868cbd949de1d369b5baf1eaec">ArrayOfTensor5</a> &amp;dobatch_spectral_irradiance_field, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;ybatch_start, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;ybatch_n, const <a class="el" href="classAgenda.html">Agenda</a> &amp;dobatch_calc_agenda, const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;robust, const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;verbosity)</td></tr>
<tr class="memdesc:afa349aaf003b3b3bf8ffbd971b0827e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">WORKSPACE METHOD: DOBatchCalc.  <a href="m__batch_8cc.html#afa349aaf003b3b3bf8ffbd971b0827e5">More...</a><br /></td></tr>
<tr class="separator:afa349aaf003b3b3bf8ffbd971b0827e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9d0fb1720e9df57970c08cc4e3ee0bc0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#a9d0fb1720e9df57970c08cc4e3ee0bc0">PI</a></td></tr>
<tr class="separator:a9d0fb1720e9df57970c08cc4e3ee0bc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac705b70c1bdd2b02d631e9d9e8bbaed4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#ac705b70c1bdd2b02d631e9d9e8bbaed4">DEG2RAD</a></td></tr>
<tr class="separator:ac705b70c1bdd2b02d631e9d9e8bbaed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719fe752707a69584d4e2566b60a8354"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#a719fe752707a69584d4e2566b60a8354">RAD2DEG</a></td></tr>
<tr class="separator:a719fe752707a69584d4e2566b60a8354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14e2a6ab17a6c5ba5dda8361306b4e4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="m__batch_8cc.html#aa14e2a6ab17a6c5ba5dda8361306b4e4">GFIELD3_P_GRID</a></td></tr>
<tr class="separator:aa14e2a6ab17a6c5ba5dda8361306b4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> functions for doing batch calculations. </p>
<dl class="section author"><dt>Author</dt><dd>Patrick Eriksson <a href="#" onclick="location.href='mai'+'lto:'+'Pat'+'ri'+'ck.'+'Er'+'iks'+'so'+'n@c'+'ha'+'lme'+'rs'+'.se'; return false;">Patri<span style="display: none;">.nosp@m.</span>ck.E<span style="display: none;">.nosp@m.</span>rikss<span style="display: none;">.nosp@m.</span>on@c<span style="display: none;">.nosp@m.</span>halme<span style="display: none;">.nosp@m.</span>rs.s<span style="display: none;">.nosp@m.</span>e</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2004-09-15</dd></dl>
<p>These functions are listed in the doxygen documentation as entries of the file <a class="el" href="auto__md_8h.html">auto_md.h</a>. </p>

<p class="definition">Definition in file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afa349aaf003b3b3bf8ffbd971b0827e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa349aaf003b3b3bf8ffbd971b0827e5">&#9670;&nbsp;</a></span>DOBatchCalc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DOBatchCalc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorkspace.html">Workspace</a> &amp;&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#a36e34790aad9582c709e3db3980cc32d">ArrayOfTensor7</a> &amp;&#160;</td>
          <td class="paramname"><em>dobatch_cloudbox_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#ae1b89c868cbd949de1d369b5baf1eaec">ArrayOfTensor5</a> &amp;&#160;</td>
          <td class="paramname"><em>dobatch_radiance_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#ac48f73312253e57be4cef9d0f6213b20">ArrayOfTensor4</a> &amp;&#160;</td>
          <td class="paramname"><em>dobatch_irradiance_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#ae1b89c868cbd949de1d369b5baf1eaec">ArrayOfTensor5</a> &amp;&#160;</td>
          <td class="paramname"><em>dobatch_spectral_irradiance_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAgenda.html">Agenda</a> &amp;&#160;</td>
          <td class="paramname"><em>dobatch_calc_agenda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>robust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;&#160;</td>
          <td class="paramname"><em>verbosity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORKSPACE METHOD: DOBatchCalc. </p>
<p>Performs batch calculations for radiation fields.</p>
<p>We perform <em>ybatch_n</em> jobs, starting at index <em>ybatch_start</em>. (Zero based indexing, as usual.) The output arrays will have ybatch_n elements. Indices in the output array start with zero, independent of <em>ybatch_start</em>.</p>
<p>WARNING, MEMORY INTENSIVE!!!: Since the outputs of this methods can be very large, make sure you only pass back output you need. Estimate the size of your output by looking at the dimensions beforehand. If you only want to pass back some fields, make sure to empty the others at the end of your <em>dobatch_calc_agenda</em>. E.g.: Tensor7SetConstant(cloudbox_field, 0, 0, 0, 0, 0, 0, 0, 0.)</p>
<p>The method performs the following: &lt;br&gt; 1. Sets <em>ybatch_index</em> = <em>ybatch_start</em>. &lt;br&gt; 2. Performs a-d until &lt;br&gt; <em>ybatch_index</em> = <em>ybatch_start</em> + <em>ybatch_n</em>. &lt;br&gt; a. Executes <em>dobatch_calc_agenda</em>. &lt;br&gt; b. If <em>ybatch_index</em> = <em>ybatch_start</em>, resizes the output &lt;br&gt; arrays based on <em>ybatch_n</em>. &lt;br&gt; c. Copies calculated fields to <em>ybatch_index</em> - <em>ybatch_start</em> &lt;br&gt; of output arrays. &lt;br&gt; d. Adds 1 to <em>ybatch_index</em>.</p>
<p>Beside the <em>dobatch_calc_agenda</em>, the WSVs <em>ybatch_start</em> and <em>ybatch_n</em> must be set before calling this method.</p>
<p>The input variable <em>ybatch_start</em> is set to a default of zero in general.arts*.</p>
<dl class="section author"><dt>Author</dt><dd>Oliver Lemke</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ws</td><td><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dobatch_cloudbox_field</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dobatch_radiance_field</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dobatch_irradiance_field</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dobatch_spectral_irradiance_field</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ybatch_start</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ybatch_n</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dobatch_calc_agenda</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">robust</td><td>Generic Input (Default: "0") </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="m__batch_8cc_source.html#l00652">652</a> of file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>

<p class="reference">References <a class="el" href="arts__omp_8cc_source.html#l00076">arts_omp_get_thread_num()</a>, <a class="el" href="autoarts_8h_source.html#l02676">ARTS::Var::cloudbox_field()</a>, <a class="el" href="messages_8h_source.html#l00209">CREATE_OUTS</a>, <a class="el" href="autoarts_8h_source.html#l03028">ARTS::Var::dobatch_calc_agenda()</a>, <a class="el" href="auto__md_8cc_source.html#l23648">dobatch_calc_agendaExecute()</a>, <a class="el" href="autoarts_8h_source.html#l03044">ARTS::Var::dobatch_cloudbox_field()</a>, <a class="el" href="autoarts_8h_source.html#l03060">ARTS::Var::dobatch_irradiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l03076">ARTS::Var::dobatch_radiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l03093">ARTS::Var::dobatch_spectral_irradiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l03659">ARTS::Var::irradiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l05476">ARTS::Var::radiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l06547">ARTS::Var::spectral_irradiance_field()</a>, <a class="el" href="autoarts_8h_source.html#l07603">ARTS::Var::ybatch_index()</a>, <a class="el" href="autoarts_8h_source.html#l07631">ARTS::Var::ybatch_n()</a>, and <a class="el" href="autoarts_8h_source.html#l07644">ARTS::Var::ybatch_start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="auto__md_8cc_source.html#l06230">DOBatchCalc_g()</a>.</p>

</div>
</div>
<a id="a9407eb3928def068954f25d3249ff1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9407eb3928def068954f25d3249ff1c4">&#9670;&nbsp;</a></span>ForLoop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ForLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorkspace.html">Workspace</a> &amp;&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAgenda.html">Agenda</a> &amp;&#160;</td>
          <td class="paramname"><em>forloop_agenda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;&#160;</td>
          <td class="paramname"><em>verbosity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORKSPACE METHOD: ForLoop. </p>
<p>A simple for-loop.</p>
<p>This method is handy when you quickly want to test out a calculation with a set of different settings.</p>
<p>It does a for-loop from start to stop in steps of step (who would have guessed that). For each iteration, the agenda <em>forloop_agenda</em> is executed. Inside the agenda, the variable <em>forloop_index</em> is available as index counter.</p>
<p>There are no other inputs to <em>forloop_agenda</em>, and also no outputs. That means, if you want to get any results out of this loop, you have to save it to files (for example with <em>WriteXMLIndexed</em>), since variables used inside the agenda will only be local.</p>
<p>Note that this kind of for loop is not parallel.</p>
<p>The method is intended for simple testing, not as a replacement of ybatchCalc*. However, it is compatible with <em>ybatchCalc</em>, in the sense that <em>ybatchCalc</em> may occur inside <em>forloop_agenda</em>.</p>
<dl class="section author"><dt>Author</dt><dd>Stefan Buehler</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ws</td><td><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">forloop_agenda</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>Generic Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stop</td><td>Generic Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">step</td><td>Generic Input </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="m__batch_8cc_source.html#l00062">62</a> of file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>

<p class="reference">References <a class="el" href="messages_8h_source.html#l00205">CREATE_OUT1</a>, <a class="el" href="autoarts_8h_source.html#l03482">ARTS::Var::forloop_agenda()</a>, <a class="el" href="auto__md_8cc_source.html#l23846">forloop_agendaExecute()</a>, and <a class="el" href="zeemandata_8h_source.html#l00077">Zeeman::start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="auto__md_8cc_source.html#l06812">ForLoop_g()</a>.</p>

</div>
</div>
<a id="ad17b67af2daddae5e169021b462f9be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17b67af2daddae5e169021b462f9be0">&#9670;&nbsp;</a></span>ybatchCalc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ybatchCalc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorkspace.html">Workspace</a> &amp;&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#af3bf202f3dc8d9ac77050666489125e8">ArrayOfArrayOfVector</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_aux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#a4bbdfc095689c41c0f78c6397202e75e">ArrayOfMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_jacobians</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAgenda.html">Agenda</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch_calc_agenda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>robust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;&#160;</td>
          <td class="paramname"><em>verbosity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORKSPACE METHOD: ybatchCalc. </p>
<p>Performs batch calculations for the measurement vector y.</p>
<p>We perform <em>ybatch_n</em> jobs, starting at index <em>ybatch_start</em>. (Zero based indexing, as usual.) The output array <em>ybatch</em> will have ybatch_n elements. Indices in the output array start with zero, independent of <em>ybatch_start</em>.</p>
<p>The method performs the following: &lt;br&gt; 1. Sets <em>ybatch_index</em> = <em>ybatch_start</em>. &lt;br&gt; 2. Performs a-d until &lt;br&gt; <em>ybatch_index</em> = <em>ybatch_start</em> + <em>ybatch_n</em>. &lt;br&gt; a. Executes <em>ybatch_calc_agenda</em>. &lt;br&gt; b. If <em>ybatch_index</em> = <em>ybatch_start</em>, resizes <em>ybatch</em> &lt;br&gt; based on <em>ybatch_n</em> and length of <em>y</em>. &lt;br&gt; c. Copies <em>y</em> to <em>ybatch_index</em> - <em>ybatch_start</em> &lt;br&gt; of <em>ybatch</em>. &lt;br&gt; d. Adds 1 to <em>ybatch_index</em>.</p>
<p>Beside the <em>ybatch_calc_agenda</em>, the WSVs <em>ybatch_start</em> and <em>ybatch_n</em> must be set before calling this method. Further, <em>ybatch_calc_agenda</em> is expected to produce a spectrum and should accordingly include a call of <em>yCalc</em> (or asimilar method).</p>
<p>The input variable <em>ybatch_start</em> is set to a default of zero in general.arts*.</p>
<p>An agenda that calculates spectra for different temperature profiles could look like this:</p>
<p>&lt;br&gt; AgendaSet(ybatch_calc_agenda){ &lt;br&gt; Extract(t_field,tensor4_1,ybatch_index) &lt;br&gt; yCalc &lt;br&gt; }</p>
<p>Jacobians are also collected, and stored in output variable <em>ybatch_jacobians</em>. (This will be empty if yCalc produces empty Jacobians.)</p>
<p>See the user guide for further practical examples.</p>
<dl class="section author"><dt>Author</dt><dd>Stefan Buehler</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ws</td><td><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ybatch</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ybatch_aux</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ybatch_jacobians</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ybatch_start</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ybatch_n</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ybatch_calc_agenda</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">robust</td><td>Generic Input (Default: "0") </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="m__batch_8cc_source.html#l00079">79</a> of file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>

<p class="reference">References <a class="el" href="arts__omp_8cc_source.html#l00076">arts_omp_get_thread_num()</a>, <a class="el" href="messages_8h_source.html#l00209">CREATE_OUTS</a>, <a class="el" href="autoarts_8h_source.html#l03892">ARTS::Var::jacobian()</a>, <a class="el" href="autoarts_8h_source.html#l07401">ARTS::Var::y()</a>, <a class="el" href="autoarts_8h_source.html#l07423">ARTS::Var::y_aux()</a>, <a class="el" href="autoarts_8h_source.html#l07560">ARTS::Var::ybatch()</a>, <a class="el" href="autoarts_8h_source.html#l07574">ARTS::Var::ybatch_aux()</a>, <a class="el" href="autoarts_8h_source.html#l07581">ARTS::Var::ybatch_calc_agenda()</a>, <a class="el" href="auto__md_8cc_source.html#l25296">ybatch_calc_agendaExecute()</a>, <a class="el" href="autoarts_8h_source.html#l07603">ARTS::Var::ybatch_index()</a>, <a class="el" href="autoarts_8h_source.html#l07620">ARTS::Var::ybatch_jacobians()</a>, <a class="el" href="autoarts_8h_source.html#l07631">ARTS::Var::ybatch_n()</a>, and <a class="el" href="autoarts_8h_source.html#l07644">ARTS::Var::ybatch_start()</a>.</p>

<p class="reference">Referenced by <a class="el" href="auto__md_8cc_source.html#l21202">ybatchCalc_g()</a>.</p>

</div>
</div>
<a id="ad1dd94c4386fd5b9ee8280895951d3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1dd94c4386fd5b9ee8280895951d3a6">&#9670;&nbsp;</a></span>ybatchMetProfiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ybatchMetProfiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorkspace.html">Workspace</a> &amp;&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="abs__species__tags_8h.html#a9acace966aca851b6275436e0c984317">ArrayOfArrayOfSpeciesTag</a> &amp;&#160;</td>
          <td class="paramname"><em>abs_species</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAgenda.html">Agenda</a> &amp;&#160;</td>
          <td class="paramname"><em>met_profile_calc_agenda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>f_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>met_amsu_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>sensor_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>refellipsoid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>lat_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>lon_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>atmosphere_dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="optproperties_8h.html#a6e37832809e67ccd019aa94dec37d0ae">ArrayOfArrayOfSingleScatteringData</a> &amp;&#160;</td>
          <td class="paramname"><em>scat_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>nelem_p_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;&#160;</td>
          <td class="paramname"><em>met_profile_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;&#160;</td>
          <td class="paramname"><em>met_profile_pnd_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;&#160;</td>
          <td class="paramname"><em>verbosity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORKSPACE METHOD: ybatchMetProfiles. </p>
<p>This method is used for simulating <a class="el" href="namespaceARTS.html">ARTS</a> for metoffice model fields This method reads in <em>met_amsu_data</em> which contains the lat-lon of the metoffice profile files as a <a class="el" href="classMatrix.html" title="The Matrix class.">Matrix</a>. It then loops over the number of profiles and corresponding to each longitude create the appropriate profile basename. Then, corresponding to each basename we have temperature field, altitude field, humidity field, and particle number density field. The temperature field and altitude field are stored in the same dimensions as <em>t_field_raw</em> and <em>z_field_raw</em>. The oxygen and nitrogen VMRs are set to constant values of 0.209 and 0.782, respectively and are used along with humidity field to generate <em>vmr_field_raw</em>.</p>
<p>The three fields <em>t_field_raw</em>, <em>z_field_raw</em>, and <em>vmr_field_raw</em> are given as input to <em>met_profile_calc_agenda</em> which is called in this method. See documentation of WSM <em>met_profile_calc_agenda</em> for more information on this agenda.</p>
<p>The method also converts satellite zenith angle to appropriate sensor_los*. It also sets the <em>p_grid</em> and <em>cloudbox_limits</em> from the profiles inside the function</p>
<dl class="section author"><dt>Author</dt><dd>Sreerekha T.R.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ws</td><td><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ybatch</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">abs_species</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_profile_calc_agenda</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_grid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_amsu_data</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_pos</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">refellipsoid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lat_grid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lon_grid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">atmosphere_dim</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scat_data</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nelem_p_grid</td><td>Generic Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_profile_path</td><td>Generic Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_profile_pnd_path</td><td>Generic Input </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="m__batch_8cc_source.html#l00238">238</a> of file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>

<p class="reference">References <a class="el" href="legacy__continua_8cc_source.html#l20626">abs</a>, <a class="el" href="autoarts_8h_source.html#l02157">ARTS::Var::abs_species()</a>, <a class="el" href="autoarts_8h_source.html#l02510">ARTS::Var::atmosphere_dim()</a>, <a class="el" href="autoarts_8h_source.html#l02762">ARTS::Var::cloudbox_limits()</a>, <a class="el" href="autoarts_8h_source.html#l02782">ARTS::Var::cloudbox_on()</a>, <a class="el" href="m__cloudbox_8cc_source.html#l00368">cloudboxSetManually()</a>, <a class="el" href="arts__api__classes_8cc_source.html#l00232">data</a>, <a class="el" href="m__batch_8cc.html#ac705b70c1bdd2b02d631e9d9e8bbaed4">DEG2RAD</a>, <a class="el" href="autoarts_8h_source.html#l03449">ARTS::Var::f_grid()</a>, <a class="el" href="m__batch_8cc.html#aa14e2a6ab17a6c5ba5dda8361306b4e4">GFIELD3_P_GRID</a>, <a class="el" href="matpackI_8cc.html#a90b23039dd2b40cea42532da6f731144">joker</a>, <a class="el" href="autoarts_8h_source.html#l03933">ARTS::Var::lat()</a>, <a class="el" href="autoarts_8h_source.html#l03962">ARTS::Var::lat_grid()</a>, <a class="el" href="autoarts_8h_source.html#l04064">ARTS::Var::lon()</a>, <a class="el" href="autoarts_8h_source.html#l04090">ARTS::Var::lon_grid()</a>, <a class="el" href="autoarts_8h_source.html#l04434">ARTS::Var::met_amsu_data()</a>, <a class="el" href="autoarts_8h_source.html#l04520">ARTS::Var::met_profile_calc_agenda()</a>, <a class="el" href="auto__md_8cc_source.html#l24603">met_profile_calc_agendaExecute()</a>, <a class="el" href="matpackI_8cc_source.html#l00051">ConstVectorView::nelem()</a>, <a class="el" href="autoarts_8h_source.html#l04763">ARTS::Var::p_grid()</a>, <a class="el" href="autoarts_8h_source.html#l05105">ARTS::Var::pnd_field_raw()</a>, <a class="el" href="m__batch_8cc.html#a719fe752707a69584d4e2566b60a8354">RAD2DEG</a>, <a class="el" href="autoarts_8h_source.html#l05519">ARTS::Var::refellipsoid()</a>, <a class="el" href="autoarts_8h_source.html#l05840">ARTS::Var::scat_data()</a>, <a class="el" href="autoarts_8h_source.html#l06201">ARTS::Var::sensor_los()</a>, <a class="el" href="autoarts_8h_source.html#l06279">ARTS::Var::sensor_pos()</a>, <a class="el" href="autoarts_8h_source.html#l06971">ARTS::Var::t_field_raw()</a>, <a class="el" href="array_8h_source.html#l00343">TotalNumberOfElements()</a>, <a class="el" href="m__basic__types_8cc_source.html#l01277">VectorNLogSpace()</a>, <a class="el" href="autoarts_8h_source.html#l07112">ARTS::Var::verbosity()</a>, <a class="el" href="autoarts_8h_source.html#l07158">ARTS::Var::vmr_field_raw()</a>, <a class="el" href="xml__io_8cc_source.html#l00901">xml_read_from_file()</a>, <a class="el" href="autoarts_8h_source.html#l07401">ARTS::Var::y()</a>, <a class="el" href="autoarts_8h_source.html#l07560">ARTS::Var::ybatch()</a>, <a class="el" href="autoarts_8h_source.html#l07714">ARTS::Var::z_field_raw()</a>, and <a class="el" href="autoarts_8h_source.html#l07754">ARTS::Var::z_surface()</a>.</p>

<p class="reference">Referenced by <a class="el" href="auto__md_8cc_source.html#l21235">ybatchMetProfiles_g()</a>.</p>

</div>
</div>
<a id="aa5fd4bcdb9c8044dbb56ed9fdefd798a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5fd4bcdb9c8044dbb56ed9fdefd798a">&#9670;&nbsp;</a></span>ybatchMetProfilesClear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ybatchMetProfilesClear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWorkspace.html">Workspace</a> &amp;&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="array_8h.html#abd238db55339e04459dc977232efcab2">ArrayOfVector</a> &amp;&#160;</td>
          <td class="paramname"><em>ybatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="abs__species__tags_8h.html#a9acace966aca851b6275436e0c984317">ArrayOfArrayOfSpeciesTag</a> &amp;&#160;</td>
          <td class="paramname"><em>abs_species</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAgenda.html">Agenda</a> &amp;&#160;</td>
          <td class="paramname"><em>met_profile_calc_agenda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>f_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>met_amsu_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td>
          <td class="paramname"><em>sensor_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector.html">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>refellipsoid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> &amp;&#160;</td>
          <td class="paramname"><em>nelem_p_grid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="mystring_8h.html#ab1ff59b63d1f9de0285e8c12fa7a1408">String</a> &amp;&#160;</td>
          <td class="paramname"><em>met_profile_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVerbosity.html">Verbosity</a> &amp;&#160;</td>
          <td class="paramname"><em>verbosity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>WORKSPACE METHOD: ybatchMetProfilesClear. </p>
<p>This method is used for simulating <a class="el" href="namespaceARTS.html">ARTS</a> for metoffice model fields for clear sky conditions.</p>
<p>This method reads in <em>met_amsu_data</em> which contains the lat-lon of the metoffice profile files as a <a class="el" href="classMatrix.html" title="The Matrix class.">Matrix</a>. It then loops over the number of profiles and corresponding to each longitude create the appropriate profile basename. Then, Corresponding to each basename we have temperature field, altitude field, humidity field, and particle number density field. The temperature field and altitude field are stored in the same dimensions as <em>t_field_raw</em> and <em>z_field_raw</em>. The oxygen and nitrogen VMRs are set to constant values of 0.209 and 0.782, respectively and are used along with humidity field to generate <em>vmr_field_raw</em>.</p>
<p>The three fields <em>t_field_raw</em>, <em>z_field_raw</em>, and <em>vmr_field_raw</em> are given as input to <em>met_profile_calc_agenda</em> which is called in this method. See documentation of WSM <em>met_profile_calc_agenda</em> for more information on this agenda.</p>
<p>The method also converts satellite zenith angle to appropriate sensor_los*. It also sets the <em>p_grid</em> and <em>cloudbox_limits</em> from the profiles inside the function</p>
<dl class="section author"><dt>Author</dt><dd>Seerekha T.R.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ws</td><td><a class="el" href="classWorkspace.html" title="Workspace class.">Workspace</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ybatch</td><td>WS Output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">abs_species</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_profile_calc_agenda</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_grid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_amsu_data</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensor_pos</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">refellipsoid</td><td>WS Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nelem_p_grid</td><td>Generic Input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">met_profile_path</td><td>Generic Input </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="m__batch_8cc_source.html#l00476">476</a> of file <a class="el" href="m__batch_8cc_source.html">m_batch.cc</a>.</p>

<p class="reference">References <a class="el" href="legacy__continua_8cc_source.html#l20626">abs</a>, <a class="el" href="autoarts_8h_source.html#l02157">ARTS::Var::abs_species()</a>, <a class="el" href="autoarts_8h_source.html#l02762">ARTS::Var::cloudbox_limits()</a>, <a class="el" href="autoarts_8h_source.html#l02782">ARTS::Var::cloudbox_on()</a>, <a class="el" href="autoarts_8h_source.html#l03449">ARTS::Var::f_grid()</a>, <a class="el" href="xml__io_8h_source.html#l00038">FILE_TYPE_ASCII</a>, <a class="el" href="m__batch_8cc.html#aa14e2a6ab17a6c5ba5dda8361306b4e4">GFIELD3_P_GRID</a>, <a class="el" href="matpackI_8cc.html#a90b23039dd2b40cea42532da6f731144">joker</a>, <a class="el" href="autoarts_8h_source.html#l03933">ARTS::Var::lat()</a>, <a class="el" href="autoarts_8h_source.html#l04064">ARTS::Var::lon()</a>, <a class="el" href="autoarts_8h_source.html#l04434">ARTS::Var::met_amsu_data()</a>, <a class="el" href="autoarts_8h_source.html#l04520">ARTS::Var::met_profile_calc_agenda()</a>, <a class="el" href="auto__md_8cc_source.html#l24603">met_profile_calc_agendaExecute()</a>, <a class="el" href="matpackI_8cc_source.html#l00051">ConstVectorView::nelem()</a>, <a class="el" href="autoarts_8h_source.html#l04763">ARTS::Var::p_grid()</a>, <a class="el" href="m__batch_8cc.html#a9d0fb1720e9df57970c08cc4e3ee0bc0">PI</a>, <a class="el" href="autoarts_8h_source.html#l05105">ARTS::Var::pnd_field_raw()</a>, <a class="el" href="autoarts_8h_source.html#l05519">ARTS::Var::refellipsoid()</a>, <a class="el" href="autoarts_8h_source.html#l06201">ARTS::Var::sensor_los()</a>, <a class="el" href="autoarts_8h_source.html#l06279">ARTS::Var::sensor_pos()</a>, <a class="el" href="autoarts_8h_source.html#l06971">ARTS::Var::t_field_raw()</a>, <a class="el" href="m__basic__types_8cc_source.html#l01277">VectorNLogSpace()</a>, <a class="el" href="autoarts_8h_source.html#l07112">ARTS::Var::verbosity()</a>, <a class="el" href="autoarts_8h_source.html#l07158">ARTS::Var::vmr_field_raw()</a>, <a class="el" href="xml__io_8cc_source.html#l00901">xml_read_from_file()</a>, <a class="el" href="xml__io_8cc_source.html#l00972">xml_write_to_file()</a>, <a class="el" href="autoarts_8h_source.html#l07401">ARTS::Var::y()</a>, <a class="el" href="autoarts_8h_source.html#l07560">ARTS::Var::ybatch()</a>, <a class="el" href="autoarts_8h_source.html#l07714">ARTS::Var::z_field_raw()</a>, and <a class="el" href="autoarts_8h_source.html#l07754">ARTS::Var::z_surface()</a>.</p>

<p class="reference">Referenced by <a class="el" href="auto__md_8cc_source.html#l21257">ybatchMetProfilesClear_g()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac705b70c1bdd2b02d631e9d9e8bbaed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac705b70c1bdd2b02d631e9d9e8bbaed4">&#9670;&nbsp;</a></span>DEG2RAD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a> DEG2RAD</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="m__batch_8cc_source.html#l00238">ybatchMetProfiles()</a>.</p>

</div>
</div>
<a id="aa14e2a6ab17a6c5ba5dda8361306b4e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa14e2a6ab17a6c5ba5dda8361306b4e4">&#9670;&nbsp;</a></span>GFIELD3_P_GRID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="matpack_8h.html#aedca4b4670b166565b5b40c700d65a7c">Index</a> GFIELD3_P_GRID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="m__batch_8cc_source.html#l00238">ybatchMetProfiles()</a>, and <a class="el" href="m__batch_8cc_source.html#l00476">ybatchMetProfilesClear()</a>.</p>

</div>
</div>
<a id="a9d0fb1720e9df57970c08cc4e3ee0bc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d0fb1720e9df57970c08cc4e3ee0bc0">&#9670;&nbsp;</a></span>PI</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a> PI</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="m__batch_8cc_source.html#l00476">ybatchMetProfilesClear()</a>.</p>

</div>
</div>
<a id="a719fe752707a69584d4e2566b60a8354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719fe752707a69584d4e2566b60a8354">&#9670;&nbsp;</a></span>RAD2DEG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="matpack_8h.html#ad9a8dbb27c0bbea7271d916036122f6a">Numeric</a> RAD2DEG</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="m__batch_8cc_source.html#l00238">ybatchMetProfiles()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="m__batch_8cc.html">m_batch.cc</a></li>
    <li class="footer">Generated on Thu Oct 15 2020 08:53:05 for ARTS by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
