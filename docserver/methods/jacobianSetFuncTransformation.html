<!DOCTYPE html>
<html lang="en">
<head>
<title>jacobianSetFuncTransformation - ARTS built-in documentation server</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="../styles.css">
</head>
<body>
<div id="navbar"><div class="breadcrumbs"><a href="../index.html">Home</a>&nbsp;>>&nbsp;<a href="../methods.html">Methods</a>&nbsp;>>&nbsp;jacobianSetFuncTransformation</div>
<div class="goto">Go to: <a href="../groups/index.html">Groups</a>&nbsp;-&nbsp;<a href="../variables/index.html">Variables</a>&nbsp;-&nbsp;<a href="index.html">Methods</a>&nbsp;-&nbsp;<a href="../agendas/index.html">Agendas</a></div></div>
<div class="content">
<h1>ARTS built-in documentation server</h1>
<h2>Workspace Method jacobianSetFuncTransformation</h2>
<h3>Description</h3>
<pre>
Sets the functional transformation of the last element of
<a href="../variables/jacobian_quantities.html">jacobian_quantities</a>.

See below for a general description of how retrieval transformations
are defined. Transformations are not applied by methods such as<a href="yCalc.html">yCalc</a>.
Instead, the method <a href="jacobianAdjustAndTransform.html">jacobianAdjustAndTransform</a> must be called to
activate the transformations.

The following transformations can be selected (by *transformation_func*):
   log   : The natural logarithm
   log10 : The base-10 logarithm
   atanh : Area hyperbolic tangent 
   none  : No transformation at all

This method needs only to be called if a functional transformation
is wanted. Default is to make no such tranformation at all (i.e.
the option "none" exists only for reasons of flexibility).

The log-options are applied as log(z-z_min) and log10(z-z_min).
The default for *z_min* is zero, but by changing it the lower limit
for z can be changed. Note that *z_min* becomes the lower limit for
allowed values of z. The GIN *z_max* is here ignored.

For the atanh-option, also *z_max* is considered. This transformation
is applied as atanh((2(z-z_min)/(z_max-z_min))-1). As above,*z_min*
is lower limit for allowed values of z. On the other hand, *z_max*
eines the upper limit for z.

The GIN *transformation_func* is so far only used for atanh. The parameter
specifies the maximum allowed value allowed for u. That is, the valid
range for u becomes ]0,tfunc_parameter[. Note that log and log10
demands/ensures that u &gt; 0, but implies no upper limit.

General handling of retrieval units and transformations:
---
Default is that quantities are retrieved as defined in ARTS, but
both some unit conversion and transformations are provided. These
operations are applied as:
   x = A * ( f(u(z)) - b ) 
where
   z is the quantity as defined ARTS
   u represents the change of unit
   f is the transformation function
   A and b define together an affine transformation
   x is the retrieved quantity
For example, this systen allows to retrive a principal component
representation (A and b) of the log (f) of relative humidity (u).

Change of unit is selected by the quantity specific jacobian-add
methods (so far only at hand for gas species). 

Activating a transformation function is done by this method. Note
that the functions are defined as the transformation from z to x.
For more details on affine transformations, see
<a href="jacobianSetAffineTransformation.html">jacobianSetAffineTransformation</a>.

</pre>

<p><b>Authors: </b>Patrick Eriksson, Simon Pfreundschuh
<h3>Synopsis</h3>
<p><table><tr><td>jacobianSetFuncTransformation(&nbsp;</td><td><a href="../variables/jacobian_quantities.html">jacobian_quantities</a>, transformation_func, z_min, z_max )</td></tr></table>
<h3>Variables</h3>
<table>
<tr><td>OUT+IN</td><td class="right"><a href="../variables/jacobian_quantities.html">jacobian_quantities</a></td><td>(<a href="../groups/ArrayOfRetrievalQuantity.html">ArrayOfRetrievalQuantity</a>)</td><td>The retrieval quantities in the Jacobian matrix.</td></tr>
<tr><td>GIN</td><td class="right">transformation_func</td><td>(<a href="../groups/String.html">String</a>)</td><td>The transformation function.</td></tr>
<tr><td>GIN</td><td class="right">z_min</td><td>(<a href="../groups/Numeric.html">Numeric</a>, Default: 0)</td><td>Lower limit of z.</td></tr>
<tr><td>GIN</td><td class="right">z_max</td><td>(<a href="../groups/Numeric.html">Numeric</a>, Default: -99e99)</td><td>Upper limit of z.</td></tr>
</table>
</div>
<div class="footer">Page generated by arts-2.4.0 (git: 4fb77825)</div>

</body>
</html>