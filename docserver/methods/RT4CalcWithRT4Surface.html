<!DOCTYPE html>
<html lang="en">
<head>
<title>RT4CalcWithRT4Surface - ARTS built-in documentation server</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="../styles.css">
</head>
<body>
<div id="navbar"><div class="breadcrumbs"><a href="../index.html">Home</a>&nbsp;>>&nbsp;<a href="../methods.html">Methods</a>&nbsp;>>&nbsp;RT4CalcWithRT4Surface</div>
<div class="goto">Go to: <a href="../groups/index.html">Groups</a>&nbsp;-&nbsp;<a href="../variables/index.html">Variables</a>&nbsp;-&nbsp;<a href="index.html">Methods</a>&nbsp;-&nbsp;<a href="../agendas/index.html">Agendas</a></div></div>
<div class="content">
<h1>ARTS built-in documentation server</h1>
<h2>Workspace Method RT4CalcWithRT4Surface</h2>
<h3>Description</h3>
<pre>
As RT4Calc except for using RT4's proprietary surface type handling.

This WSM is only indented for testing purposes.

The following surface type/property methods are available and
require the the following input:
- 'L'ambertian: <a href="../variables/surface_scalar_reflectivity.html">surface_scalar_reflectivity</a>, <a href="../variables/surface_skin_t.html">surface_skin_t</a>
- 'F'resnel: <a href="../variables/surface_complex_refr_index.html">surface_complex_refr_index</a>, <a href="../variables/surface_skin_t.html">surface_skin_t</a>
- 'S'pecular: <a href="../variables/surface_reflectivity.html">surface_reflectivity</a>, <a href="../variables/surface_skin_t.html">surface_skin_t</a>
'L' and 'F' use proprietary RT4 methods, 'S' uses RT4's Fresnel
methods modified to behave similar to ARTS'
<a href="surfaceFlatReflectivity.html">surfaceFlatReflectivity</a>.

</pre>

<p><b>Authors: </b>Jana Mendrok
<h3>Synopsis</h3>
<p><table><tr><td>RT4CalcWithRT4Surface(&nbsp;</td><td><a href="../variables/cloudbox_field.html">cloudbox_field</a>, <a href="../variables/za_grid.html">za_grid</a>, <a href="../variables/aa_grid.html">aa_grid</a>, <a href="../variables/atmfields_checked.html">atmfields_checked</a>, <a href="../variables/atmgeom_checked.html">atmgeom_checked</a>, <a href="../variables/scat_data_checked.html">scat_data_checked</a>, <a href="../variables/cloudbox_checked.html">cloudbox_checked</a>, <a href="../variables/cloudbox_on.html">cloudbox_on</a>, <a href="../variables/cloudbox_limits.html">cloudbox_limits</a>, <a href="../agendas/propmat_clearsky_agenda.html">propmat_clearsky_agenda</a>, <a href="../variables/atmosphere_dim.html">atmosphere_dim</a>, <a href="../variables/pnd_field.html">pnd_field</a>, <a href="../variables/t_field.html">t_field</a>, <a href="../variables/z_field.html">z_field</a>, <a href="../variables/vmr_field.html">vmr_field</a>, <a href="../variables/p_grid.html">p_grid</a>, <a href="../variables/scat_data.html">scat_data</a>, <a href="../variables/f_grid.html">f_grid</a>, <a href="../variables/stokes_dim.html">stokes_dim</a>, <a href="../variables/z_surface.html">z_surface</a>, <a href="../variables/surface_skin_t.html">surface_skin_t</a>, <a href="../variables/surface_scalar_reflectivity.html">surface_scalar_reflectivity</a>, <a href="../variables/surface_reflectivity.html">surface_reflectivity</a>, <a href="../variables/surface_complex_refr_index.html">surface_complex_refr_index</a>, nstreams, pfct_method, ground_type, quad_type, add_straight_angles, pfct_aa_grid_size, auto_inc_nstreams, robust, za_interp_order, cos_za_interp, max_delta_tau )</td></tr></table>
<h3>Variables</h3>
<table>
<tr><td>OUT</td><td class="right"><a href="../variables/cloudbox_field.html">cloudbox_field</a></td><td>(<a href="../groups/Tensor7.html">Tensor7</a>)</td><td>The spectral radiance field inside the cloudbx.</td></tr>
<tr><td>OUT</td><td class="right"><a href="../variables/za_grid.html">za_grid</a></td><td>(<a href="../groups/Vector.html">Vector</a>)</td><td>Zenith angle grid.</td></tr>
<tr><td>OUT</td><td class="right"><a href="../variables/aa_grid.html">aa_grid</a></td><td>(<a href="../groups/Vector.html">Vector</a>)</td><td>Azimuthal angle grid.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/atmfields_checked.html">atmfields_checked</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>OK-flag for atmospheric grids and (physical) fields.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/atmgeom_checked.html">atmgeom_checked</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>OK-flag for the geometry of the model atmosphere.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/scat_data_checked.html">scat_data_checked</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>OK-flag for <a href="../variables/scat_data.html">scat_data</a>.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_checked.html">cloudbox_checked</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>OK-flag for variables associated with the cloudbox.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_on.html">cloudbox_on</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>Flag to activate the cloud box.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/cloudbox_limits.html">cloudbox_limits</a></td><td>(<a href="../groups/ArrayOfIndex.html">ArrayOfIndex</a>)</td><td>The limits of the cloud box.</td></tr>
<tr><td>IN</td><td class="right"><a href="../agendas/propmat_clearsky_agenda.html">propmat_clearsky_agenda</a></td><td>(<a href="../groups/Agenda.html">Agenda</a>)</td><td>Agenda calculating the absorption coefficient matrices.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/atmosphere_dim.html">atmosphere_dim</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>The atmospheric dimensionality (1-3).</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/pnd_field.html">pnd_field</a></td><td>(<a href="../groups/Tensor4.html">Tensor4</a>)</td><td>Particle number density field.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/t_field.html">t_field</a></td><td>(<a href="../groups/Tensor3.html">Tensor3</a>)</td><td>The field of atmospheric temperatures.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/z_field.html">z_field</a></td><td>(<a href="../groups/Tensor3.html">Tensor3</a>)</td><td>The field of geometrical altitudes.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/vmr_field.html">vmr_field</a></td><td>(<a href="../groups/Tensor4.html">Tensor4</a>)</td><td>VMR field.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/p_grid.html">p_grid</a></td><td>(<a href="../groups/Vector.html">Vector</a>)</td><td>The pressure grid.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/scat_data.html">scat_data</a></td><td>(<a href="../groups/ArrayOfArrayOfSingleScatteringData.html">ArrayOfArrayOfSingleScatteringData</a>)</td><td>Array of single scattering data.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/f_grid.html">f_grid</a></td><td>(<a href="../groups/Vector.html">Vector</a>)</td><td>The frequency grid for monochromatic pencil beam calculations.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/stokes_dim.html">stokes_dim</a></td><td>(<a href="../groups/Index.html">Index</a>)</td><td>The dimensionality of the Stokes vector (1-4).</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/z_surface.html">z_surface</a></td><td>(<a href="../groups/Matrix.html">Matrix</a>)</td><td>The surface altitude.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/surface_skin_t.html">surface_skin_t</a></td><td>(<a href="../groups/Numeric.html">Numeric</a>)</td><td>Surface skin temperature.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/surface_scalar_reflectivity.html">surface_scalar_reflectivity</a></td><td>(<a href="../groups/Vector.html">Vector</a>)</td><td>Surface reflectivity, assuming it can be described as a scalar value.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/surface_reflectivity.html">surface_reflectivity</a></td><td>(<a href="../groups/Tensor3.html">Tensor3</a>)</td><td>Surface reflectivity, for a given position and angle.</td></tr>
<tr><td>IN</td><td class="right"><a href="../variables/surface_complex_refr_index.html">surface_complex_refr_index</a></td><td>(<a href="../groups/GriddedField3.html">GriddedField3</a>)</td><td>Complex refractive index of the surface, at a single point.</td></tr>
<tr><td>GIN</td><td class="right">nstreams</td><td>(<a href="../groups/Index.html">Index</a>, Default: 16)</td><td>Number of polar angle directions (streams) in RT4 solution (must be an even number).</td></tr>
<tr><td>GIN</td><td class="right">pfct_method</td><td>(<a href="../groups/String.html">String</a>, Default: "median")</td><td>Flag which method to apply to derive phase function (for available options see above).</td></tr>
<tr><td>GIN</td><td class="right">ground_type</td><td>(<a href="../groups/String.html">String</a>, Default: "A")</td><td>Flag which surface type/surface property method to use (for available options see above).</td></tr>
<tr><td>GIN</td><td class="right">quad_type</td><td>(<a href="../groups/String.html">String</a>, Default: "D")</td><td>Flag which quadrature to apply in RT4 solution (for available options see above).</td></tr>
<tr><td>GIN</td><td class="right">add_straight_angles</td><td>(<a href="../groups/Index.html">Index</a>, Default: 1)</td><td>Flag whether to include nadir and zenith as explicit directions (only effective for quad_type G and D).</td></tr>
<tr><td>GIN</td><td class="right">pfct_aa_grid_size</td><td>(<a href="../groups/Index.html">Index</a>, Default: 19)</td><td>Number of azimuthal angle grid points to consider in Fourier series decomposition of scattering matrix (only applied for randomly oriented scattering elements)</td></tr>
<tr><td>GIN</td><td class="right">auto_inc_nstreams</td><td>(<a href="../groups/Index.html">Index</a>, Default: 0)</td><td>Flag whether to internally increase nstreams (individually per frequency) if norm of (bulk) scattering matrix is not preserved properly. If 0, no adaptation is done. Else <span class="brokendoclink">*auto_inc_nstreams*</span> gives the maximum number of streams to increase to.</td></tr>
<tr><td>GIN</td><td class="right">robust</td><td>(<a href="../groups/Index.html">Index</a>, Default: 0)</td><td>For <span class="brokendoclink">*auto_inc_nstreams*</span>&gt;0, flag whether to not fail even if scattering matrix norm is not preserved when maximum stream number is reached. Internal RT4 calculations is then performed with nstreams=<span class="brokendoclink">*auto_inc_nstreams*</span>.</td></tr>
<tr><td>GIN</td><td class="right">za_interp_order</td><td>(<a href="../groups/Index.html">Index</a>, Default: 1)</td><td>For <span class="brokendoclink">*auto_inc_nstreams*</span>&gt;0, polar angle interpolation order for interpolation from internal increased stream to originally requested nstreams-ifield.</td></tr>
<tr><td>GIN</td><td class="right">cos_za_interp</td><td>(<a href="../groups/Index.html">Index</a>, Default: 0)</td><td>For <span class="brokendoclink">*auto_inc_nstreams*</span>&gt;0, flag whether to do polar angle interpolation in cosine (='mu') space.</td></tr>
<tr><td>GIN</td><td class="right">max_delta_tau</td><td>(<a href="../groups/Numeric.html">Numeric</a>, Default: 1e-6)</td><td>Maximum optical depth of infinitesimal layer (where single scattering approximation is assumed to apply).</td></tr>
</table>
</div>
<div class="footer">Page generated by arts-2.4.0 (git: 4fb77825)</div>

</body>
</html>